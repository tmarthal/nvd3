<!DOCTYPE html>
<meta charset="utf-8">

<link href="../src/nv.d3.css" rel="stylesheet" type="text/css">

<style>

body {
  overflow-y:scroll;
}

text {
  font: 12px sans-serif;
}

svg {
  display: block;
}

#chart1 svg {
  height: 500px;
  min-width: 100px;
  min-height: 100px;
/*
  margin: 50px;
  Minimum height and width is a good idea to prevent negative SVG dimensions...
  For example width should be =< margin.left + margin.right + 1,
  of course 1 pixel for the entire chart would not be very useful, BUT should not have errors
*/
}

.box .center {
  stroke-dasharray: 3,3;
}

</style>
<body>

  <div id="chart" class='with-3d-shadow with-transitions'>
    <svg style="height: 500px;"></svg>
  </div>

<script src="../lib/d3.v3.js"></script>
<script src="../nv.d3.js"></script>
<script src="../src/tooltip.js"></script>
<script src="../src/utils.js"></script>
<script src="../src/models/legend.js"></script>
<script src="../src/models/axis.js"></script>
<script src="../src/models/scatter.js"></script>
<script src="../src/models/line.js"></script>
<script src="../src/models/lineWithFocusChart.js"></script>
<script src="stream_layers.js"></script>
<script>


nv.addGraph(function() { 
  var chart = nv.models.lineWithFocusChart().options({
            x: function(d) { return d[0] },
            y: function(d) { return d[1] }
        });

 // chart.transitionDuration(500);
  chart.xAxis
  	.tickFormat(function(d,i) { return d[0]; });
    //  .tickFormat(d3.format(',f'));
  chart.x2Axis
  	.tickFormat(function(d,i) { return d[0]; });
//      .tickFormat(d3.format(',f'));

  chart.yAxis
  	.tickFormat(function(d,i) { return d[1]; });
//      .tickFormat(d3.format(',.2f'));
  chart.y2Axis
  	.tickFormat(function(d,i) { return d[1]; });
//      .tickFormat(d3.format(',.2f'));


  chart.lines.getBox(function(d,i) { return d[2]; })
  chart.lines.getErrorBar(function(d,i) {  return d[3]; });
//  chart.getX = function(d,i) { return d[0]; }
//  chart.getY = function(d,i) { return d[1]; }
   
  chart.tooltipContent(function(key, x, y, e, graph) {
  		// assume y_err[0] == y_err[1] and use plus/minus
        var series_value = e.series.values[e.pointIndex];
        // In the array data for this example, x=d[0], y=d[1], box=d[2] and yerr=d[3]
        var tooltip = '<h3>' + key + '</h3>' +
               '<p>' + series_value[0] + ', ' + series_value[1];
        if (e.series.errorBars) {
          tooltip += '-'+ series_value[3][0].toFixed(2)+'+'+series_value[3][1].toFixed(2)+  '</p>';
          //tooltip += 'Â±'+ series_value.y_err[0].toFixed(2)+'</p>';
        }
        // This tooltip is based on the array of data
        if (e.series.box) {
        	//tooltip += '<p>Bounding Box:'+series_value.box[0] + ' to '+ series_value.box[1]+ '</p>';
        	tooltip += '<p>Bounding Box:'+series_value[2][0] + ' to '+ series_value[2][1]+ '</p>';
        }
         return tooltip;
      });
  var asdf = testBoxData();
  console.log(asdf);
  d3.select('#chart svg')
      .datum(asdf)
      .call(chart);

  nv.utils.windowResize(chart.update);

  return chart;
});



function testData() {
  return stream_layers(3,128,.1).map(function(data, i) {
    return { 
      key: 'Stream' + i,
      values: data,
    };
  });
}

function testErrorData() {
  return stream_layers(2,100,.1).map(function(data, i) {
    return { 
      key: 'Stream' + i,
      values: data,
	  errorBars: true,
    };
  });
}

function testBoxData() {
    return [{"box": "true", "values": [[1356588000000.0, 74.15, [74.06, 74.65], [0.77, 0.77]], [1356674400000.0, 74.405, [74.0, 74.31], [0.72, 0.72]], {"y": null, "x": 1356760800000.0}, {"y": null, "x": 1356847200000.0}, [1356933600000.0, 75.255, [74.15, 76.23], [1.24, 1.25]], {"y": null, "x": 1357020000000.0}, [1357106400000.0, 75.655, [77.73, 74.02], [2.31, 2.3]], [1357192800000.0, 74.705, [73.59, 75.09], [1.34, 1.34]], [1357279200000.0, 71.41, [72.35, 71.95], [1.14, 1.14]], {"y": null, "x": 1357365600000.0}, {"y": null, "x": 1357452000000.0}, [1357538400000.0, 71.06, [71.19, 71.1], [0.96, 0.96]], [1357624800000.0, 71.015, [71.27, 71.63], [0.66, 0.66]], [1357711200000.0, 71.83, [72.4, 71.04], [1.01, 1.01]], [1357797600000.0, 70.58500000000001, [71.37, 70.58], [0.79, 0.78]], [1357884000000.0, 70.53, [70.87, 70.84], [0.66, 0.66]], {"y": null, "x": 1357970400000.0}, {"y": null, "x": 1358056800000.0}, [1358143200000.0, 71.695, [70.79, 72.3], [0.9, 0.91]], [1358229600000.0, 68.055, [68.3, 69.47], [1.76, 1.75]], [1358316000000.0, 68.7, [69.61, 67.44], [1.3, 1.3]], [1358402400000.0, 67.845, [68.03, 68.15], [0.75, 0.75]], [1358488800000.0, 67.24000000000001, [68.06, 66.8], [0.91, 0.91]], {"y": null, "x": 1358575200000.0}, {"y": null, "x": 1358661600000.0}, {"y": null, "x": 1358748000000.0}, [1358834400000.0, 66.375, [66.5, 66.13], [0.42, 0.42]], [1358920800000.0, 65.94, [65.47, 66.21], [0.63, 0.63]], [1359007200000.0, 66.75, [66.0, 67.6], [0.93, 0.93]], [1359093600000.0, 68.675, [67.43, 69.83], [1.28, 1.28]], {"y": null, "x": 1359180000000.0}, {"y": null, "x": 1359266400000.0}, [1359352800000.0, 69.575, [69.85, 70.0], [0.58, 0.58]], [1359439200000.0, 69.69, [69.3, 69.83], [0.51, 0.51]], [1359525600000.0, 69.625, [69.66, 69.37], [0.42, 0.42]], [1359612000000.0, 69.445, [69.47, 69.0], [0.66, 0.67]], [1359698400000.0, 68.445, [69.24, 67.86], [1.0, 1.01]], {"y": null, "x": 1359784800000.0}, {"y": null, "x": 1359871200000.0}, [1359957600000.0, 67.27000000000001, [67.89, 66.82], [0.62, 0.62]], [1360044000000.0, 67.28, [67.39, 67.21], [0.53, 0.53]], [1360130400000.0, 67.675, [67.17, 68.08], [0.67, 0.67]], [1360216800000.0, 67.485, [67.67, 67.63], [0.5, 0.5]], [1360303200000.0, 68.03, [67.78, 68.04], [0.44, 0.44]], {"y": null, "x": 1360389600000.0}, {"y": null, "x": 1360476000000.0}, [1360562400000.0, 67.23, [67.86, 67.35], [0.69, 0.69]], [1360648800000.0, 68.00999999999999, [67.71, 67.56], [0.85, 0.85]], [1360735200000.0, 67.435, [67.4, 67.28], [0.63, 0.63]], [1360821600000.0, 66.57, [66.83, 66.99], [0.57, 0.57]], [1360908000000.0, 67.525, [67.1, 67.85], [0.72, 0.71]], {"y": null, "x": 1360994400000.0}, {"y": null, "x": 1361080800000.0}, {"y": null, "x": 1361167200000.0}, [1361253600000.0, 68.92500000000001, [68.28, 69.75], [0.87, 0.86]], [1361340000000.0, 69.43, [69.31, 68.16], [1.35, 1.35]], [1361426400000.0, 67.06, [67.61, 66.84], [0.71, 0.71]], [1361512800000.0, 66.87, [67.34, 67.05], [0.8, 0.8]], {"y": null, "x": 1361599200000.0}, {"y": null, "x": 1361685600000.0}, [1361772000000.0, 67.475, [67.35, 66.73], [0.75, 0.76]], [1361858400000.0, 66.425, [67.51, 65.97], [1.23, 1.23]], [1361944800000.0, 66.88, [66.04, 67.72], [1.18, 1.18]], [1362031200000.0, 67.89, [67.79, 67.05], [0.89, 0.89]], [1362117600000.0, 66.63499999999999, [66.52, 67.5], [0.88, 0.89]], {"y": null, "x": 1362204000000.0}, {"y": null, "x": 1362290400000.0}, [1362376800000.0, 67.635, [67.29, 67.05], [0.8, 0.8]], [1362463200000.0, 68.285, [67.51, 69.13], [1.1, 1.11]], [1362549600000.0, 69.88, [69.18, 69.51], [0.7, 0.7]], [1362636000000.0, 69.08500000000001, [69.82, 68.05], [1.09, 1.08]], [1362722400000.0, 69.035, [68.61, 69.92], [0.94, 0.95]], {"y": null, "x": 1362808800000.0}, {"y": null, "x": 1362895200000.0}, [1362978000000.0, 69.72, [69.15, 69.48], [0.68, 0.68]], [1363064400000.0, 69.315, [69.52, 68.74], [0.61, 0.62]], [1363150800000.0, 69.03, [69.08, 68.63], [0.62, 0.62]], [1363237200000.0, 69.555, [68.79, 70.47], [0.98, 0.97]], [1363323600000.0, 69.41, [70.06, 68.48], [0.98, 0.98]], {"y": null, "x": 1363410000000.0}, {"y": null, "x": 1363496400000.0}, [1363582800000.0, 66.58500000000001, [67.35, 65.9], [0.86, 0.85]], [1363669200000.0, 63.285, [63.05, 64.08], [1.28, 1.28]], [1363755600000.0, 63.855000000000004, [64.18, 63.88], [0.63, 0.63]], [1363842000000.0, 64.37, [64.09, 64.7], [0.87, 0.87]], [1363928400000.0, 63.239999999999995, [64.46, 62.35], [1.64, 1.64]], {"y": null, "x": 1364014800000.0}, {"y": null, "x": 1364101200000.0}, [1364187600000.0, 62.555, [62.64, 63.08], [0.73, 0.73]], [1364274000000.0, 63.25, [63.5, 63.03], [0.55, 0.55]], [1364360400000.0, 62.36, [62.63, 62.78], [0.48, 0.48]], [1364446800000.0, 62.295, [62.65, 62.35], [0.41, 0.41]], {"y": null, "x": 1364533200000.0}, {"y": null, "x": 1364619600000.0}, {"y": null, "x": 1364706000000.0}, [1364792400000.0, 62.93, [62.33, 62.32], [0.83, 0.83]], [1364878800000.0, 62.97, [62.54, 63.24], [0.61, 0.61]], [1364965200000.0, 64.195, [63.44, 64.24], [1.18, 1.19]], [1365051600000.0, 64.61, [63.4, 65.66], [1.49, 1.49]], [1365138000000.0, 63.785, [64.63, 64.33], [0.98, 0.98]], {"y": null, "x": 1365224400000.0}, {"y": null, "x": 1365310800000.0}, [1365397200000.0, 64.86, [64.12, 65.76], [0.94, 0.94]], [1365483600000.0, 66.13499999999999, [65.92, 66.05], [1.43, 1.44]], [1365570000000.0, 66.765, [66.57, 66.53], [0.64, 0.64]], [1365656400000.0, 67.765, [66.57, 68.81], [1.27, 1.27]], [1365742800000.0, 68.82, [68.55, 69.6], [1.07, 1.07]], {"y": null, "x": 1365829200000.0}, {"y": null, "x": 1365915600000.0}, [1366002000000.0, 70.34, [69.6, 69.14], [1.53, 1.53]], [1366088400000.0, 70.335, [69.59, 70.03], [0.98, 0.98]], [1366174800000.0, 70.72, [70.64, 71.34], [1.03, 1.03]], [1366261200000.0, 69.935, [71.31, 68.85], [1.58, 1.58]], [1366347600000.0, 68.5, [68.73, 68.38], [0.99, 0.99]], {"y": null, "x": 1366434000000.0}, {"y": null, "x": 1366520400000.0}, [1366606800000.0, 71.33000000000001, [69.2, 73.89], [2.9, 2.9]], [1366693200000.0, 75.435, [73.8, 74.26], [1.84, 1.83]], [1366779600000.0, 74.82, [74.79, 75.78], [1.25, 1.25]], [1366866000000.0, 75.64, [75.9, 75.1], [1.16, 1.16]], [1366952400000.0, 74.57, [74.9, 74.14], [1.12, 1.12]], {"y": null, "x": 1367038800000.0}, {"y": null, "x": 1367125200000.0}, [1367211600000.0, 74.625, [74.63, 75.05], [0.58, 0.58]], [1367298000000.0, 75.35, [74.73, 76.13], [0.85, 0.85]], [1367384400000.0, 75.70500000000001, [75.95, 75.44], [0.67, 0.66]], [1367470800000.0, 76.18, [75.8, 76.88], [0.86, 0.86]], [1367557200000.0, 76.48, [76.05, 76.36], [0.67, 0.67]], {"y": null, "x": 1367643600000.0}, {"y": null, "x": 1367730000000.0}, [1367816400000.0, 75.41, [76.51, 74.4], [1.2, 1.2]], [1367902800000.0, 74.5, [74.22, 74.79], [0.4, 0.4]], [1367989200000.0, 75.53999999999999, [76.61, 75.08], [1.07, 1.07]], [1368075600000.0, 78.055, [75.45, 79.07], [3.2, 3.19]], [1368162000000.0, 79.78, [79.13, 80.41], [1.52, 1.52]], {"y": null, "x": 1368248400000.0}, {"y": null, "x": 1368334800000.0}, [1368421200000.0, 80.35, [80.05, 79.55], [0.93, 0.93]], [1368507600000.0, 80.55, [79.88, 81.1], [1.22, 1.22]], [1368594000000.0, 81.005, [81.27, 80.58], [0.69, 0.69]], [1368680400000.0, 80.495, [80.89, 79.85], [0.95, 0.94]], [1368766800000.0, 80.375, [79.43, 81.05], [0.94, 0.94]], {"y": null, "x": 1368853200000.0}, {"y": null, "x": 1368939600000.0}, [1369026000000.0, 80.685, [80.48, 80.62], [0.58, 0.58]], [1369112400000.0, 81.345, [80.38, 81.46], [1.13, 1.13]], [1369198800000.0, 79.815, [80.74, 78.46], [1.88, 1.89]], [1369285200000.0, 78.505, [77.92, 79.04], [1.7, 1.7]], [1369371600000.0, 78.605, [78.3, 78.89], [0.56, 0.56]], {"y": null, "x": 1369458000000.0}, {"y": null, "x": 1369544400000.0}, {"y": null, "x": 1369630800000.0}, [1369717200000.0, 78.985, [79.31, 78.37], [1.23, 1.23]], [1369803600000.0, 78.39, [78.75, 78.79], [1.14, 1.14]], [1369890000000.0, 78.78999999999999, [78.8, 77.94], [0.9, 0.9]], [1369976400000.0, 78.185, [77.91, 77.81], [0.78, 0.77]], {"y": null, "x": 1370062800000.0}, {"y": null, "x": 1370149200000.0}, [1370235600000.0, 78.49000000000001, [78.65, 79.29], [0.9, 0.9]], [1370322000000.0, 80.885, [79.36, 80.48], [1.59, 1.59]], [1370408400000.0, 79.63499999999999, [80.18, 78.88], [1.22, 1.23]], [1370494800000.0, 78.78, [78.9, 79.56], [0.83, 0.83]], [1370581200000.0, 81.10499999999999, [80.3, 81.43], [0.85, 0.86]], {"y": null, "x": 1370667600000.0}, {"y": null, "x": 1370754000000.0}, [1370840400000.0, 81.67, [81.66, 82.28], [0.83, 0.83]], [1370926800000.0, 69.28999999999999, [70.0, 67.85], [1.45, 1.45]], [1371013200000.0, 66.145, [68.59, 64.3], [2.62, 2.63]], [1371099600000.0, 65.82499999999999, [64.85, 66.84], [1.74, 1.75]], [1371186000000.0, 66.755, [67.91, 66.15], [1.35, 1.36]], {"y": null, "x": 1371272400000.0}, {"y": null, "x": 1371358800000.0}, [1371445200000.0, 65.975, [66.95, 64.96], [1.13, 1.13]], [1371531600000.0, 65.16, [65.0, 65.42], [0.57, 0.57]], [1371618000000.0, 65.235, [65.64, 64.89], [0.44, 0.44]], [1371704400000.0, 63.385000000000005, [64.56, 62.7], [1.29, 1.28]], [1371790800000.0, 61.435, [63.18, 61.9], [1.84, 1.84]], {"y": null, "x": 1371877200000.0}, {"y": null, "x": 1371963600000.0}, [1372050000000.0, 60.875, [60.51, 61.33], [1.1, 1.1]], [1372136400000.0, 62.25, [61.7, 62.51], [0.76, 0.76]], [1372222800000.0, 63.45, [62.9, 63.88], [0.59, 0.59]], [1372309200000.0, 64.87, [64.4, 65.63], [0.76, 0.76]], [1372395600000.0, 65.19999999999999, [65.58, 65.5], [0.74, 0.74]], {"y": null, "x": 1372482000000.0}, {"y": null, "x": 1372568400000.0}, [1372654800000.0, 66.0, [65.54, 65.42], [0.8, 0.8]], [1372741200000.0, 65.14500000000001, [65.25, 65.05], [0.64, 0.63]], [1372827600000.0, 64.64, [64.55, 64.5], [0.59, 0.59]], {"y": null, "x": 1372914000000.0}, [1373000400000.0, 63.48, [64.03, 63.55], [0.57, 0.57]], {"y": null, "x": 1373086800000.0}, {"y": null, "x": 1373173200000.0}, [1373259600000.0, 64.935, [64.0, 65.93], [1.14, 1.13]], [1373346000000.0, 66.05, [66.33, 65.45], [0.61, 0.61]], [1373432400000.0, 65.58, [65.2, 65.69], [0.78, 0.78]], [1373518800000.0, 65.995, [66.33, 65.95], [0.39, 0.38]], [1373605200000.0, 66.28, [65.9, 66.36], [0.45, 0.45]], {"y": null, "x": 1373691600000.0}, {"y": null, "x": 1373778000000.0}, [1373864400000.0, 65.945, [66.32, 66.14], [0.41, 0.42]], [1373950800000.0, 65.215, [66.09, 64.2], [1.09, 1.08]], [1374037200000.0, 64.33500000000001, [64.14, 65.32], [1.01, 1.0]], [1374123600000.0, 65.655, [65.32, 65.77], [0.59, 0.59]], [1374210000000.0, 66.96000000000001, [66.16, 67.7], [0.94, 0.94]], {"y": null, "x": 1374296400000.0}, {"y": null, "x": 1374382800000.0}, [1374469200000.0, 67.42500000000001, [67.89, 67.51], [0.53, 0.52]], [1374555600000.0, 67.845, [67.8, 67.79], [0.41, 0.41]], [1374642000000.0, 67.975, [68.21, 67.72], [0.52, 0.53]], [1374728400000.0, 68.485, [67.85, 69.21], [0.78, 0.78]], [1374814800000.0, 68.95, [69.16, 69.02], [0.55, 0.55]], {"y": null, "x": 1374901200000.0}, {"y": null, "x": 1374987600000.0}, [1375074000000.0, 68.61500000000001, [68.71, 69.05], [0.62, 0.61]], [1375160400000.0, 69.39, [69.73, 69.56], [0.59, 0.59]], [1375246800000.0, 69.83, [69.66, 69.57], [0.47, 0.47]], [1375333200000.0, 70.49000000000001, [69.98, 71.09], [0.81, 0.81]], [1375419600000.0, 72.03999999999999, [71.3, 72.7], [0.93, 0.93]], {"y": null, "x": 1375506000000.0}, {"y": null, "x": 1375592400000.0}, [1375678800000.0, 72.935, [72.36, 73.54], [0.75, 0.75]], [1375765200000.0, 73.7, [73.54, 73.66], [0.59, 0.59]], [1375851600000.0, 72.34, [72.97, 72.37], [1.14, 1.14]], [1375938000000.0, 72.935, [72.7, 72.62], [0.47, 0.47]], [1376024400000.0, 72.305, [72.2, 72.58], [0.74, 0.73]], {"y": null, "x": 1376110800000.0}, {"y": null, "x": 1376197200000.0}, [1376283600000.0, 72.63499999999999, [72.0, 72.9], [0.63, 0.64]], [1376370000000.0, 73.845, [74.54, 74.65], [0.91, 0.91]], [1376456400000.0, 73.75, [74.59, 73.35], [0.84, 0.84]], [1376542800000.0, 72.03, [72.35, 72.22], [0.62, 0.62]], [1376629200000.0, 71.0, [71.82, 70.13], [1.0, 1.0]], {"y": null, "x": 1376715600000.0}, {"y": null, "x": 1376802000000.0}, [1376888400000.0, 69.72999999999999, [70.41, 68.94], [0.93, 0.93]], [1376974800000.0, 69.395, [69.14, 69.26], [1.8, 1.8]], [1377061200000.0, 69.815, [69.1, 70.15], [0.94, 0.95]], [1377147600000.0, 70.58500000000001, [69.98, 70.96], [0.8, 0.79]], [1377234000000.0, 71.295, [71.55, 71.77], [0.5, 0.5]]], "errorBars": "false", "key": "Lululemon Athletica inc "}];

  return stream_layers(3,128,.1).map(function(data, i) {
    //return [{"box": "true", "values": [[1356588000000.0, 74.92, [74.06, 74.65]], [1356674400000.0, 75.13, [74.0, 74.31]], {"y": null, "x": 1356760800000.0}, {"y": null, "x": 1356847200000.0}, [1356933600000.0, 76.5, [74.15, 76.23]], {"y": null, "x": 1357020000000.0}, [1357106400000.0, 77.96, [77.73, 74.02]], [1357192800000.0, 76.05, [73.59, 75.09]], [1357279200000.0, 72.55, [72.35, 71.95]], {"y": null, "x": 1357365600000.0}, {"y": null, "x": 1357452000000.0}, [1357538400000.0, 72.02, [71.19, 71.1]], [1357624800000.0, 71.67, [71.27, 71.63]], [1357711200000.0, 72.84, [72.4, 71.04]], [1357797600000.0, 71.37, [71.37, 70.58]], [1357884000000.0, 71.19, [70.87, 70.84]], {"y": null, "x": 1357970400000.0}, {"y": null, "x": 1358056800000.0}, [1358143200000.0, 72.6, [70.79, 72.3]], [1358229600000.0, 69.81, [68.3, 69.47]], [1358316000000.0, 70.0, [69.61, 67.44]], [1358402400000.0, 68.59, [68.03, 68.15]], [1358488800000.0, 68.15, [68.06, 66.8]], {"y": null, "x": 1358575200000.0}, {"y": null, "x": 1358661600000.0}, {"y": null, "x": 1358748000000.0}, [1358834400000.0, 66.8, [66.5, 66.13]], [1358920800000.0, 66.57, [65.47, 66.21]], [1359007200000.0, 67.68, [66.0, 67.6]], [1359093600000.0, 69.96, [67.43, 69.83]], {"y": null, "x": 1359180000000.0}, {"y": null, "x": 1359266400000.0}, [1359352800000.0, 70.15, [69.85, 70.0]], [1359439200000.0, 70.2, [69.3, 69.83]], [1359525600000.0, 70.05, [69.66, 69.37]], [1359612000000.0, 70.11, [69.47, 69.0]], [1359698400000.0, 69.45, [69.24, 67.86]], {"y": null, "x": 1359784800000.0}, {"y": null, "x": 1359871200000.0}, [1359957600000.0, 67.89, [67.89, 66.82]], [1360044000000.0, 67.81, [67.39, 67.21]], [1360130400000.0, 68.35, [67.17, 68.08]], [1360216800000.0, 67.99, [67.67, 67.63]], [1360303200000.0, 68.47, [67.78, 68.04]], {"y": null, "x": 1360389600000.0}, {"y": null, "x": 1360476000000.0}, [1360562400000.0, 67.92, [67.86, 67.35]], [1360648800000.0, 68.86, [67.71, 67.56]], [1360735200000.0, 68.06, [67.4, 67.28]], [1360821600000.0, 67.14, [66.83, 66.99]], [1360908000000.0, 68.24, [67.1, 67.85]], {"y": null, "x": 1360994400000.0}, {"y": null, "x": 1361080800000.0}, {"y": null, "x": 1361167200000.0}, [1361253600000.0, 69.79, [68.28, 69.75]], [1361340000000.0, 70.78, [69.31, 68.16]], [1361426400000.0, 67.77, [67.61, 66.84]], [1361512800000.0, 67.67, [67.34, 67.05]], {"y": null, "x": 1361599200000.0}, {"y": null, "x": 1361685600000.0}, [1361772000000.0, 68.23, [67.35, 66.73]], [1361858400000.0, 67.66, [67.51, 65.97]], [1361944800000.0, 68.06, [66.04, 67.72]], [1362031200000.0, 68.78, [67.79, 67.05]], [1362117600000.0, 67.52, [66.52, 67.5]], {"y": null, "x": 1362204000000.0}, {"y": null, "x": 1362290400000.0}, [1362376800000.0, 68.43, [67.29, 67.05]], [1362463200000.0, 69.39, [67.51, 69.13]], [1362549600000.0, 70.58, [69.18, 69.51]], [1362636000000.0, 70.17, [69.82, 68.05]], [1362722400000.0, 69.98, [68.61, 69.92]], {"y": null, "x": 1362808800000.0}, {"y": null, "x": 1362895200000.0}, [1362978000000.0, 70.4, [69.15, 69.48]], [1363064400000.0, 69.93, [69.52, 68.74]], [1363150800000.0, 69.65, [69.08, 68.63]], [1363237200000.0, 70.53, [68.79, 70.47]], [1363323600000.0, 70.39, [70.06, 68.48]], {"y": null, "x": 1363410000000.0}, {"y": null, "x": 1363496400000.0}, [1363582800000.0, 67.44, [67.35, 65.9]], [1363669200000.0, 64.57, [63.05, 64.08]], [1363755600000.0, 64.48, [64.18, 63.88]], [1363842000000.0, 65.24, [64.09, 64.7]], [1363928400000.0, 64.88, [64.46, 62.35]], {"y": null, "x": 1364014800000.0}, {"y": null, "x": 1364101200000.0}, [1364187600000.0, 63.29, [62.64, 63.08]], [1364274000000.0, 63.8, [63.5, 63.03]], [1364360400000.0, 62.84, [62.63, 62.78]], [1364446800000.0, 62.7, [62.65, 62.35]], {"y": null, "x": 1364533200000.0}, {"y": null, "x": 1364619600000.0}, {"y": null, "x": 1364706000000.0}, [1364792400000.0, 63.76, [62.33, 62.32]], [1364878800000.0, 63.58, [62.54, 63.24]], [1364965200000.0, 65.38, [63.44, 64.24]], [1365051600000.0, 66.1, [63.4, 65.66]], [1365138000000.0, 64.77, [64.63, 64.33]], {"y": null, "x": 1365224400000.0}, {"y": null, "x": 1365310800000.0}, [1365397200000.0, 65.8, [64.12, 65.76]], [1365483600000.0, 67.57, [65.92, 66.05]], [1365570000000.0, 67.41, [66.57, 66.53]], [1365656400000.0, 69.03, [66.57, 68.81]], [1365742800000.0, 69.89, [68.55, 69.6]], {"y": null, "x": 1365829200000.0}, {"y": null, "x": 1365915600000.0}, [1366002000000.0, 71.87, [69.6, 69.14]], [1366088400000.0, 71.32, [69.59, 70.03]], [1366174800000.0, 71.75, [70.64, 71.34]], [1366261200000.0, 71.51, [71.31, 68.85]], [1366347600000.0, 69.49, [68.73, 68.38]], {"y": null, "x": 1366434000000.0}, {"y": null, "x": 1366520400000.0}, [1366606800000.0, 74.23, [69.2, 73.89]], [1366693200000.0, 77.27, [73.8, 74.26]], [1366779600000.0, 76.07, [74.79, 75.78]], [1366866000000.0, 76.8, [75.9, 75.1]], [1366952400000.0, 75.69, [74.9, 74.14]], {"y": null, "x": 1367038800000.0}, {"y": null, "x": 1367125200000.0}, [1367211600000.0, 75.21, [74.63, 75.05]], [1367298000000.0, 76.2, [74.73, 76.13]], [1367384400000.0, 76.37, [75.95, 75.44]], [1367470800000.0, 77.04, [75.8, 76.88]], [1367557200000.0, 77.15, [76.05, 76.36]], {"y": null, "x": 1367643600000.0}, {"y": null, "x": 1367730000000.0}, [1367816400000.0, 76.61, [76.51, 74.4]], [1367902800000.0, 74.9, [74.22, 74.79]], [1367989200000.0, 76.61, [76.61, 75.08]], [1368075600000.0, 81.25, [75.45, 79.07]], [1368162000000.0, 81.3, [79.13, 80.41]], {"y": null, "x": 1368248400000.0}, {"y": null, "x": 1368334800000.0}, [1368421200000.0, 81.28, [80.05, 79.55]], [1368507600000.0, 81.77, [79.88, 81.1]], [1368594000000.0, 81.69, [81.27, 80.58]], [1368680400000.0, 81.44, [80.89, 79.85]], [1368766800000.0, 81.32, [79.43, 81.05]], {"y": null, "x": 1368853200000.0}, {"y": null, "x": 1368939600000.0}, [1369026000000.0, 81.26, [80.48, 80.62]], [1369112400000.0, 82.47, [80.38, 81.46]], [1369198800000.0, 81.7, [80.74, 78.46]], [1369285200000.0, 80.21, [77.92, 79.04]], [1369371600000.0, 79.17, [78.3, 78.89]], {"y": null, "x": 1369458000000.0}, {"y": null, "x": 1369544400000.0}, {"y": null, "x": 1369630800000.0}, [1369717200000.0, 80.22, [79.31, 78.37]], [1369803600000.0, 79.53, [78.75, 78.79]], [1369890000000.0, 79.69, [78.8, 77.94]], [1369976400000.0, 78.96, [77.91, 77.81]], {"y": null, "x": 1370062800000.0}, {"y": null, "x": 1370149200000.0}, [1370235600000.0, 79.39, [78.65, 79.29]], [1370322000000.0, 82.48, [79.36, 80.48]], [1370408400000.0, 80.86, [80.18, 78.88]], [1370494800000.0, 79.61, [78.9, 79.56]], [1370581200000.0, 81.96, [80.3, 81.43]], {"y": null, "x": 1370667600000.0}, {"y": null, "x": 1370754000000.0}, [1370840400000.0, 82.5, [81.66, 82.28]], [1370926800000.0, 70.74, [70.0, 67.85]], [1371013200000.0, 68.77, [68.59, 64.3]], [1371099600000.0, 67.57, [64.85, 66.84]], [1371186000000.0, 68.11, [67.91, 66.15]], {"y": null, "x": 1371272400000.0}, {"y": null, "x": 1371358800000.0}, [1371445200000.0, 67.1, [66.95, 64.96]], [1371531600000.0, 65.73, [65.0, 65.42]], [1371618000000.0, 65.67, [65.64, 64.89]], [1371704400000.0, 64.67, [64.56, 62.7]], [1371790800000.0, 63.27, [63.18, 61.9]], {"y": null, "x": 1371877200000.0}, {"y": null, "x": 1371963600000.0}, [1372050000000.0, 61.98, [60.51, 61.33]], [1372136400000.0, 63.01, [61.7, 62.51]], [1372222800000.0, 64.04, [62.9, 63.88]], [1372309200000.0, 65.63, [64.4, 65.63]], [1372395600000.0, 65.94, [65.58, 65.5]], {"y": null, "x": 1372482000000.0}, {"y": null, "x": 1372568400000.0}, [1372654800000.0, 66.8, [65.54, 65.42]], [1372741200000.0, 65.78, [65.25, 65.05]], [1372827600000.0, 65.23, [64.55, 64.5]], {"y": null, "x": 1372914000000.0}, [1373000400000.0, 64.05, [64.03, 63.55]], {"y": null, "x": 1373086800000.0}, {"y": null, "x": 1373173200000.0}, [1373259600000.0, 66.07, [64.0, 65.93]], [1373346000000.0, 66.66, [66.33, 65.45]], [1373432400000.0, 66.36, [65.2, 65.69]], [1373518800000.0, 66.38, [66.33, 65.95]], [1373605200000.0, 66.73, [65.9, 66.36]], {"y": null, "x": 1373691600000.0}, {"y": null, "x": 1373778000000.0}, [1373864400000.0, 66.36, [66.32, 66.14]], [1373950800000.0, 66.3, [66.09, 64.2]], [1374037200000.0, 65.34, [64.14, 65.32]], [1374123600000.0, 66.25, [65.32, 65.77]], [1374210000000.0, 67.9, [66.16, 67.7]], {"y": null, "x": 1374296400000.0}, {"y": null, "x": 1374382800000.0}, [1374469200000.0, 67.95, [67.89, 67.51]], [1374555600000.0, 68.25, [67.8, 67.79]], [1374642000000.0, 68.5, [68.21, 67.72]], [1374728400000.0, 69.27, [67.85, 69.21]], [1374814800000.0, 69.5, [69.16, 69.02]], {"y": null, "x": 1374901200000.0}, {"y": null, "x": 1374987600000.0}, [1375074000000.0, 69.23, [68.71, 69.05]], [1375160400000.0, 69.98, [69.73, 69.56]], [1375246800000.0, 70.3, [69.66, 69.57]], [1375333200000.0, 71.3, [69.98, 71.09]], [1375419600000.0, 72.97, [71.3, 72.7]], {"y": null, "x": 1375506000000.0}, {"y": null, "x": 1375592400000.0}, [1375678800000.0, 73.69, [72.36, 73.54]], [1375765200000.0, 74.29, [73.54, 73.66]], [1375851600000.0, 73.48, [72.97, 72.37]], [1375938000000.0, 73.4, [72.7, 72.62]], [1376024400000.0, 73.04, [72.2, 72.58]], {"y": null, "x": 1376110800000.0}, {"y": null, "x": 1376197200000.0}, [1376283600000.0, 73.27, [72.0, 72.9]], [1376370000000.0, 74.75, [74.54, 74.65]], [1376456400000.0, 74.59, [74.59, 73.35]], [1376542800000.0, 72.65, [72.35, 72.22]], [1376629200000.0, 72.0, [71.82, 70.13]], {"y": null, "x": 1376715600000.0}, {"y": null, "x": 1376802000000.0}, [1376888400000.0, 70.66, [70.41, 68.94]], [1376974800000.0, 71.19, [69.14, 69.26]], [1377061200000.0, 70.76, [69.1, 70.15]], [1377147600000.0, 71.38, [69.98, 70.96]], [1377234000000.0, 71.8, [71.55, 71.77]]], "errorBars": "false", "key": "Lululemon Athletica inc "}];
    return { 
      key: 'Stream' + i,
      values: data,
	  box: true,      
    };
  });
}

function testErrorBoxData() {
  return stream_layers(8,128,.1).map(function(data, i) {
    return { 
      key: 'Stream' + i,
      values: data,
      box: true,
	  errorBars: true,      
    };
  });
}


</script>
